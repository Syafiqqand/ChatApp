<Window x:Class="ChatClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Chat Client" Height="450" Width="800">
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="150"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<StackPanel Grid.Column="0" Background="LightGray">
			<TextBlock Text="Online Users" FontWeight="Bold" Padding="10" HorizontalAlignment="Center"/>
			<ListBox x:Name="lstOnlineUsers" Margin="5" Height="Auto"/>
		</StackPanel>

		<Grid Grid.Column="1">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- TOP CONTROL: tambahkan label di atas setiap textbox -->
			<StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10" VerticalAlignment="Top">
				<!-- IP -->
				<StackPanel Orientation="Vertical" Margin="2">
					<TextBlock Text="Alamat IP" FontSize="12" Margin="2,0"/>
					<TextBox x:Name="txtServerIP" Text="127.0.0.1" Width="100" Margin="5,2,5,5"/>
				</StackPanel>

				<!-- Port -->
				<StackPanel Orientation="Vertical" Margin="2">
					<TextBlock Text="Port" FontSize="12" Margin="2,0"/>
					<TextBox x:Name="txtPort" Text="8080" Width="50" Margin="5,2,5,5"/>
				</StackPanel>

				<!-- Username -->
				<StackPanel Orientation="Vertical" Margin="2">
					<TextBlock Text="Username" FontSize="12" Margin="2,0"/>
					<TextBox x:Name="txtUsername" Text="" Width="140" Margin="5,2,5,5" ToolTip="Enter your username"/>
				</StackPanel>

				<!-- Buttons -->
				<StackPanel Orientation="Vertical" Margin="8,0,0,0" VerticalAlignment="Bottom">
					<StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
						<Button x:Name="btnConnect" Content="Connect" Click="btnConnect_Click" Margin="5" Width="80"/>
						<Button x:Name="btnDisconnect" Content="Disconnect" Click="btnDisconnect_Click" Margin="5" Width="80" IsEnabled="False"/>
					</StackPanel>
				</StackPanel>
			</StackPanel>

			<TextBlock Grid.Row="1" x:Name="txtStatus" Text="Disconnected" Margin="10" Foreground="Red"/>

			<ListBox Grid.Row="2" x:Name="lstMessages" Margin="10" ScrollViewer.VerticalScrollBarVisibility="Auto">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding}" TextWrapping="Wrap"/>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>

			<StackPanel Grid.Row="3" Orientation="Horizontal" Margin="10">
				<TextBox x:Name="txtMessage" Width="400" Margin="5" KeyDown="txtMessage_KeyDown" IsEnabled="False"
                         ToolTip="Type your message here"/>
				<Button x:Name="btnSend" Content="Send" Click="btnSend_Click" Margin="5" Width="80" IsEnabled="False"/>
			</StackPanel>
		</Grid>
	</Grid>
</Window>
